<html>
<body>
<h1>Some features of the HTL integration</h1>

<h2>Create a model</h2>
<p>
    <sly data-sly-use.model="com.composum.platform.models.simple.LoadedModel"></sly>
    Model class: ${model.toString}, name: ${model.name}, path: ${model.path}, type: ${model.type},
    properties: ${model.resource.valueMap.keySet.toString}
</p>

<h2>AttributeHelper</h2>
<p data-sly-use.attrs="com.composum.platform.htl.AttributeHelper">
    Request attribute keys: ${attrs.requestAttributes.propertyNames.toString}<br/>
    Servlet name: ${attrs.requestAttributes['sling.core.current.servletName']}
</p>

<h2>Attribute access</h2>

<!-- Sets page context attribute 'themodel' -->
<sly data-sly-use.attrs="${'com.composum.platform.htl.AttributeHelper' @ scope='page', key='resourceparent', value=model.resource.parent}"></sly>

<p data-sly-use.resourceParent="${'org.apache.sling.api.resource.Resource' @ fromScope='page', key='resourceparent' }">
    Read resourceParent back from the page context: ${resourceParent.path}
</p>

<p>
    Page context keys: ${attrs.pageContext.keySet.toString}<br/>
</p>


<h2>Development tool: Object Info</h2>
<pre id="objectinfo"
     data-sly-use.objectinfo="${'com.composum.platform.htl.tools.ObjectInfo' @ object=model}"> ${objectinfo.info}
</pre>


<h2>Development tool: BindingsHelper</h2>
<p id="bindingshelper" data-sly-use.bindingsHelper="com.composum.platform.htl.tools.BindingsHelper">
    Bindingshelper Keys: ${bindingsHelper.keys}
</p>
<pre id="bindingshelper" data-sly-use.bindingsHelper="com.composum.platform.htl.tools.BindingsHelper">
    Bindings =
    ${bindingsHelper.info}</pre>


</body>
</html>
